- defaults:
    link:
      relink: true

- clean: ["~"]

- link:
    ~/.dotfiles: ""
    ~/.tmux.conf: .tmux.conf
    ~/.myclirc: .myclirc
    ~/.pryrc: .pryrc
    ~/.radare2rc: .radare2rc
    ~/.default-gems: .default-gems
    ~/.tool-versions: .tool-versions
    ~/.ideavimrc: .ideavimrc
    ~/.gitconfig: .gitconfig
    ~/.ghci : .ghci
    ~/.ipython: ipython
    ~/.hammerspoon: hammerspoon
    ~/.config/:
      glob: true
      path: config/*
      relink: true
      create: true

- create:
    - ~/.config

- shell:
    - description: Install submodules
      command: git submodule update --init --recursive
    - description: Install Homebrew
      command: ! which -s brew && /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
    - description: Use Fish as default shell
      command: which -s fish && chsh -s $(which fish)
    - description: Install XCode Command Line Tools
      command: which -s xcode-select && xcode-select --install
    - description: Switch to correct XCode path
      command: which -s xcode-select && sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer
    - description: Agree to XCode build license
      command: which -s xcodebuild && sudo xcodebuild -license
